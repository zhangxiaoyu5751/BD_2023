# 事实表设计原则
## 尽可能包含于业务过程相关的所有事实
## 只选择与业务过程相关的事实
## 分解不可加事实为可加的组件
## 在选择维度和事实之前需要先声明粒度
## 在同一个事实表当中不能有多种不同粒度的事实
## 事实的单位要一致
## 对事件的null要处理
## 使用退化维度提高事实表易用性

事实表设计方法
# 选择业务过程，确定事实表类型
# 声明粒度
# 确定维度
# 确定事实
# 冗余维度


事实表分类
# 事务事实表
## 单事务事实表
每一个业务过程设计一个事实表，方便对每一个业务过程进行单独的分析
## 多事务事实表
将不同的事实放到同一个事实表中，同一个事实表包含不同的业务过程，可以是增加列，或者增加行的方式。

## 两种事实表对比
首先需要分析多个业务过程是不是可以放到同一个事实表中，分析业务过程的相似性。再看粒度和维度是不是一致。再看事实是不是相同。再看下游使用情况，单事务更容易理解。多事务有学习成本

# 事实的设计准则
# 事实完整性
# 事实一致性
# 事实可加性

# 周期快照事实表
就是按照时间间隔来记录事实，时间间隔比如每天、每个月等。统计的是间隔周期内的度量统计，比如历史至今、自然年至今等。通常粒度比事务事实表要粗。


# 累计快照事实表
覆盖的事一个实体的生命周期的时间跨度，通常由多个业务过程。多个日期字段来记录生命周期的关键节点。主要用于计算一些时间间隔比较好用，适合一些短周期的，有明确开始和结束的过程。


# 维度建模和范式建模的区别
1. 范式建模主要是强调数据的规范化和一致性，维度建模主要侧重数据的易用和性能
2. 范式建模主要使用范式化的表来存储数据，维度建模则主要是星星模型和雪花模型
3. 范式建模适用于企业应用程序和大型数据处理系统，维度建模适用于数仓场景。

# 缓慢渐变维度的三种解决办法
1. 重写。直接取最新的值，不关注之前的，全部进行覆盖
2. 增加行。添加两列时间戳，新增新行记录新值。(他可以保存历史数据)
3. 增加新列。直接增加一列表示之前的值是什么(仅能表示这一次和最近一次改动的值，如果需要都记录的话， 就需要增加很多列，因此除非特定需要，尽量避免使用)

# 数据架构的评价标准
1. 全面性。能够支持大部分业务方提过来的需求
2. 可复用性。数仓分层清晰，链路血缘清晰，可复用，需求可以在短时间内被支持
3. 稳定性。日常数据质量和生产质量都有保障，出现问题后能够快速定位并恢复
4. 健壮性。能够对快速变化的业务和业务模型进行快速适应和兼容，可做到快速扩展

# 数据模型的评价标准
1. 业务过程清晰，数据模型分层明确。
2. 指标可理解，按照一定业务事务过程进行业务划分，明细层粒度明确，历史数据可获取，汇总层维度和指标同名同义
3. 核心模型相对稳定
4. 高内聚低耦合，主题内数据模型业务高内聚


# 数据质量评价标准
数据质量六要素